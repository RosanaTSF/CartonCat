{% extends 'base.html' %}
{% load static %}

{% block content %}
    <h1>Cadastro de Gato ou Livro</h1>

    <!-- Opção para selecionar o tipo de cadastro -->
    <label for="tipo_cadastro">Selecione o Tipo de Cadastro:</label>
    <select id="tipo_cadastro" name="tipo_cadastro" onchange="toggleForm()">
        <option value="">Escolha uma opção</option>
        <option value="gato">Gato</option>
        <option value="livro">Livro</option>
    </select>

    <!-- Formulário para cadastro de gatos ou livros -->
    <form action="{% url 'cadastro_item' %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- Campos de cadastro de gatos -->
        <div id="form_gato" style="display:none;">
            <h2>Cadastro de Gato</h2>
            <table>
                <tr>
                    <td><label for="nome">Nome do Gato:</label></td>
                    <td><input type="text" id="nome" name="nome"></td>
                </tr>
                <tr>
                    <td><label for="idade">Idade:</label></td>
                    <td>
                        <select id="idade" name="idade">
                            <option value="filhote">Filhote</option>
                            <option value="adulto">Adulto</option>
                            <option value="senior">Sênior</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><label for="sexo">Sexo:</label></td>
                    <td>
                        <select id="sexo" name="sexo">
                            <option value="macho">Macho</option>
                            <option value="femea">Fêmea</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><label for="foto">Foto do Gato:</label></td>
                    <td><input type="file" id="foto" name="foto" accept="image/*"></td>
                </tr>
                <!-- Adicione outros campos específicos para gatos conforme necessário -->
            </table>
        </div>

        <!-- Campos de cadastro de livros -->
        <div id="form_livro" style="display:none;">
            <h2>Cadastro de Livro</h2>
            <table>
                <tr>
                    <td><label for="titulo">Título do Livro:</label></td>
                    <td><input type="text" id="titulo" name="titulo"></td>
                </tr>
                <tr>
                    <td><label for="autor">Autor:</label></td>
                    <td><input type="text" id="autor" name="autor"></td>
                </tr>
                <tr>
                    <td><label for="genero">Gênero:</label></td>
                    <td><input type="text" id="genero" name="genero"></td>
                </tr>
                <tr>
                    <td><label for="publicacao">Ano de Publicação:</label></td>
                    <td><input type="number" id="publicacao" name="publicacao"></td>
                </tr>
                <tr>
                    <td><label for="isbn">ISBN:</label></td>
                    <td><input type="text" id="isbn" name="isbn"></td>
                </tr>
                <!-- Adicione outros campos específicos para livros conforme necessário -->
            </table>
        </div>

        <!-- Botão para enviar o formulário -->
        <button type="submit">Cadastrar</button>
    </form>

    <!-- JavaScript para alternar entre os formulários -->
    <script>
        function toggleForm() {
            var tipoCadastro = document.getElementById("tipo_cadastro").value;
            var formGato = document.getElementById("form_gato");
            var formLivro = document.getElementById("form_livro");

            // Exibe o formulário correspondente à seleção e oculta o outro
            if (tipoCadastro === "gato") {
                formGato.style.display = "block";
                formLivro.style.display = "none";
            } else if (tipoCadastro === "livro") {
                formLivro.style.display = "block";
                formGato.style.display = "none";
            } else {
                formGato.style.display = "none";
                formLivro.style.display = "none";
            }
        }
    </script>
{% endblock %}
